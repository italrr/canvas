set width 1024
set height 1024
set target [img:create 'RGB' width height]

set c 0
iter|3 [target:data]~pixel [
    [set y [math:floor [math:mod c target:width]]]
    [set x [math:floor [/ c target:width]]]
    [set r [/ [+ x 1] target:width]]
    [set g [/ [+ y 1] target:height]]
    [mut pixel|0 [- 1 r]]
    [mut pixel|1 [- 1 g]]
    [mut pixel|2 [math:clamp [+ r g] 0 1]]
    [++ c]
]

img:write target 'PNG' 'hola.png'
